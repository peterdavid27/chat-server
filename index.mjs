var e=require("express")(),n=require("http").createServer(e),o=require("socket.io")(n),s=require("mongoose"),r=require("./models/messages");s.connect("mongodb+srv://reynert:809829@cluster0.ezypr.mongodb.net/mensajes?retryWrites=true&w=majority",{useNewUrlParser:!0,useUnifiedTopology:!0}).then(function(){console.log("DB is conectado")}).catch(function(e){return console.log(e)}),s.Promise=global.Promise,o.on("connection",function(e){r.find({}).then(function(e){console.log(e)}),e.on("message",function(e){var n=e.name,s=e.message;new r({name:n,message:s}).save().then(function(){o.emit("message",{name:n,message:s})})})}),n.listen(4e3,function(){console.log("listening on port 4000")});
//# sourceMappingURL=index.mjs.map
