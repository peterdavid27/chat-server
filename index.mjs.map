{"version":3,"file":"index.mjs","sources":["index.js"],"sourcesContent":["var e=require(\"express\")(),n=require(\"http\").createServer(e),o=require(\"socket.io\")(n),s=require(\"mongoose\"),r=require(\"./models/messages\");s.connect(\"mongodb+srv://reynert:809829@cluster0.ezypr.mongodb.net/mensajes?retryWrites=true&w=majority\",{useNewUrlParser:!0,useUnifiedTopology:!0}).then(function(){console.log(\"DB is conectado\")}).catch(function(e){return console.log(e)}),s.Promise=global.Promise,o.on(\"connection\",function(e){r.find({}).then(function(e){console.log(e)}),e.on(\"message\",function(e){var n=e.name,s=e.message;new r({name:n,message:s}).save().then(function(){o.emit(\"message\",{name:n,message:s})})})}),n.listen(4e3,function(){console.log(\"listening on port 4000\")});\n//# sourceMappingURL=index.js.map\n"],"names":["app","require","http","createServer","io","mongoose","Message","connect","useNewUrlParser","useUnifiedTopology","then","console","log","e","err","Promise","global","on","find","result","socket","name","message","save","emit","listen"],"mappings":"AAAA,IAAMA,EAAMC,QAAAA,UAAAA,GACNC,EAAOD,QAAQ,QAAQE,aAAaH,GACpCI,EAAKH,QAAAA,YAAAA,CAAqBC,GAC1BG,EAAWJ,QAAQ,YACnBK,EAAUL,QAAQ,qBAIxBI,EAASE,QAHQ,+FAGY,CAAEC,iBAAAA,EAAuBC,oBAAAA,IACrDC,KAAK,WACFC,QAAQC,IAAI,2BAGT,SAAAC,GAAA,OAAOF,QAAQC,IAAIE,KAC1BT,EAASU,QAASC,OAAOD,QAIzBX,EAAGa,GAAG,aAAc,SAAAJ,GAClBP,EAAQY,KAAK,IAAIR,KAAK,SAAAG,GACpBF,QAAQC,IAAIO,KAGdC,EAAOH,GAAG,UAAW,SAAAJ,GAAA,IAAGQ,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,QAChB,IAAIhB,EAAQ,CAAEe,KAAAA,EAAKC,QAAAA,IAC3BC,OAAOb,KAAK,WAChBN,EAAGoB,KAAK,UAAW,CAAEH,KAAAA,EAAMC,QAAAA,UAK/BpB,EAAKuB,OAAO,IAAM,WAChBd,QAAQC,IAAI"}